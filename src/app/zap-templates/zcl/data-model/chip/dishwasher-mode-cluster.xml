<?xml version="1.0"?>
<!--
 SPDX-FileCopyrightText: 2023 Project CHIP Authors

Licensed SPDX-License-Identifier: Apache-2.0
-->
<configurator>
  <domain name="CHIP"/>

  <enum name="ModeTag" type="ENUM16">
    <cluster code="0x0059"/>
    <item value="0x4000" name="Normal"/>
    <item value="0x4001" name="Heavy"/>
    <item value="0x4002" name="Light"/>
  </enum>

  <cluster>
    <domain>General</domain>
    <name>Dishwasher Mode</name>
    <code>0x0059</code>
    <define>DISHWASHER_MODE_CLUSTER</define>
    <client init="false" tick="false">true</client>
    <server init="false" tick="false">true</server>
    <description>Attributes and commands for selecting a mode from a list of supported options.</description>
    <globalAttribute side="either" code="0xFFFD" value="2"/>
    <!-- Base data types -->
    <attribute side="server" code="0x0000" define="SUPPORTED_MODES"  type="ARRAY" entryType="ModeOptionStruct" writable="false" optional="false" isNullable="false" length="255">SupportedModes</attribute>
    <attribute side="server" code="0x0001" define="CURRENT_MODE"     type="INT8U"                              writable="false" optional="false" isNullable="false" reportable="true">CurrentMode</attribute>
    <attribute side="server" code="0x0002" define="START_UP_MODE"    type="INT8U"                              writable="true"  optional="true"  isNullable="true">StartUpMode</attribute>
    <attribute side="server" code="0x0003" define="ON_MODE"          type="INT8U"                              writable="true"  optional="true"  isNullable="true">OnMode</attribute>

    <!-- Commands -->
    <command source="client" code="0x00" name="ChangeToMode" response="ChangeToModeResponse" optional="false">
      <description>
        This command is used to change device modes.
        On receipt of this command the device SHALL respond with a ChangeToModeResponse command.
      </description>
      <arg name="NewMode" type="INT8U" optional="false"/>
    </command>

    <command source="server" code="0x01" name="ChangeToModeResponse" disableDefaultResponse="true" optional="false">
      <description>
        This command is sent by the device on receipt of the ChangeToModeWithStatus command.
      </description>
      <arg name="Status"     type="ENUM8"                   optional="false"/>
      <arg name="StatusText" type="CHAR_STRING" lenght="64" optional="true"/>
    </command>
  </cluster>
</configurator>
