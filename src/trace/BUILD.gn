# SPDX-FileCopyrightText: (c) 2022 Project CHIP Authors
#
# SPDX-License-Identifier: Apache-2.0

import("//build_overrides/pigweed.gni")

declare_args() {
  chip_build_pw_trace_lib = false
}

config("config") {
  defines = [ "PW_TRACE_BACKEND_SET" ]
}

source_set("trace") {
  sources = [
    "trace.cpp",
    "trace.h",
  ]
  if (chip_build_pw_trace_lib) {
    public_configs = [ ":config" ]
    public_deps = [ "${dir_pigweed}/pw_trace" ]
  }
}
